"use strict";function load_product_skeleton(){jQuery.ajax({url:jQuery("#ajax_url").val(),data:{action:"load_skeleton"},type:"GET",success:function(e){localStorage.setItem("product_grid_skeleton",e.data["skeleton-grid"]),localStorage.setItem("product_list_skeleton",e.data["skeleton-list"])}})}jQuery,jQuery(document).ready(function(){change_view_btn_event(),load_product_skeleton(),o=jQuery.fn.css;var t=new jQuery.Event("stylechanged"),o=jQuery.fn.css;jQuery.fn.css=function(){var e=o.apply(this,arguments);return jQuery(this).trigger(t),e},setTimeout(function(){jQuery(".woof_info_popup").on("stylechanged",function(){jQuery(this).append('<div class="css_prefix-show-loader-overlay"></div>')})},500)}),jQuery(document).on("woof_ajax_done",function(){change_view_btn_event(),0<jQuery(".css_prefix_loadmore_product").length&&js_prefix_loadmore_button(),0<jQuery(".css_prefix-infinite-loader").length&&js_prefix_loadmore_infinite_scroll(),php_prefix_loadmore_params.current_page=1,jQuery.ajax({url:php_prefix_loadmore_params.ajaxurl,data:{action:"fetch_woof_filter_ajax_query"},type:"GET",success:function(e){(e=JSON.parse(e))&&(php_prefix_loadmore_params.posts=e.query,php_prefix_loadmore_params.max_page=e.max_page)}}),Page_AjaxLoad()}),jQuery(document).on("wc_cart_button_updated",function(e,t){jQuery(t).attr("style",jQuery(".products").hasClass("product-list-style")?"display:none !important":"").next(".added_to_cart").addClass("css_prefix-btn php_prefix-add-to-cart btn-hover ajax_add_to_cart add_to_cart_button d-flex align-items-center css_prefix-box-shadow added ajax-effect-link").html('<span class="css_prefix-btn-line-holder">\n                <span class="css_prefix-btn-line-hidden"></span>\n                <span class="css_prefix-btn-text">View Cart</span>\n                <span class="css_prefix-btn-line"></span>\n                <i class="fas fa-chevron-right"></i>\n\t            </span>'),Page_AjaxLoad()});var can_loaded_product_view=!0;function change_view_btn_event(){jQuery(".css_prefix-view-grid,.css_prefix-listing").on("click",function(){var e=jQuery(this),t=e.parents(".sorting-wrapper").next(".products");e.hasClass("active")||jQuery("#woof_html_buffer").is(":visible")||!can_loaded_product_view||(setCookie("product_view[col_no]",e.hasClass("css_prefix-view-grid")?e.data("grid"):"1"),setCookie("product_view[is_grid]",e.hasClass("css_prefix-view-grid")?"2":"1"),jQuery(".css_prefix-product-view-buttons .btn").removeClass("active"),e.addClass("active"),e.hasClass("css_prefix-listing")?(t.find(".product").fadeOut(0,function(){jQuery(this).remove()}),e.parents(".product-grid-style").removeClass("product-grid-style").addClass("product-list-style"),ajax_product(t,"product_list_skeleton")):1!=e.parents(".product-grid-style").length&&(t.find(".product").fadeOut(0,function(){jQuery(this).remove()}),e.parents(".product-list-style").removeClass("product-list-style").addClass("product-grid-style"),ajax_product(t,"product_grid_skeleton")),setTimeout(function(){void 0!==e.data("grid")?t.removeClass("columns-2 columns-3 columns-4").addClass("columns-"+e.data("grid")):t.removeClass(" columns-2 columns-3 columns-4"),t.addClass("animated-product")},100),t.removeClass("animated-product"))})}function ajax_product(r,s){jQuery.ajax({url:window.location.href,data:{loaded_paged:php_prefix_loadmore_params.current_page},type:"POST",beforeSend:function(e){if("product_grid_skeleton"==s)for(var t=getCookie("product_view[col_no]"),o=jQuery(localStorage.getItem(s)).siblings(".column-"+t),a=0;a<t;a++)r.append(o.clone());else r.append(jQuery(localStorage.getItem(s)));jQuery(".woocommerce-pagination ,.css_prefix-infinite-loader ,.css_prefix_loadmore_product").hide(0),can_loaded_product_view=!1},success:function(e){e&&(e=jQuery(e),jQuery(".products").replaceWith(e.find(".products")),can_loaded_product_view=!0,r.find(".skeleton-main").remove(),change_view_btn_event(),0<jQuery(".css_prefix_loadmore_product").length&&js_prefix_loadmore_button(),0<jQuery(".css_prefix-infinite-loader").length&&js_prefix_loadmore_infinite_scroll(),jQuery(".woocommerce-pagination ,.css_prefix-infinite-loader ,.css_prefix_loadmore_product").show(0))}})}function getCookie(e){e="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===e.length)return e.pop().split(";").shift()}function setCookie(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=new Date;a.setTime(a.getTime()+24*o*60*60*1e3);o="expires="+a.toUTCString(),isSubdomain(),a="."+window.location.hostname;document.cookie=e+"="+t+"; "+o+"; Path=/;"+a}var isSubdomain=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.hostname,t=new RegExp(/^([a-z]+\:\/{2})?([\w-]+\.[\w-]+\.\w+)$/);return!!e.match(t)};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndvb2NvbW1lcmNlLmpzIl0sIm5hbWVzIjpbImxvYWRfcHJvZHVjdF9za2VsZXRvbiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJ2YWwiLCJkYXRhIiwiYWN0aW9uIiwidHlwZSIsImNhbl9sb2FkZWRfcHJvZHVjdF92aWV3IiwicmVzIiwiY2hhbmdlX3ZpZXdfYnRuX2V2ZW50IiwidXJsIiwialF1ZXJ5IiwiZG9jdW1lbnQiLCJyZWFkeSIsImNzcyIsIkV2ZW50Iiwib3JpZyIsInJldCIsImFwcGx5IiwidGhpcyIsImFyZ3VtZW50cyIsImZuIiwidHJpZ2dlciIsImV2Iiwic2V0VGltZW91dCIsIm9uIiwiYXBwZW5kIiwibGVuZ3RoIiwianNfcHJlZml4X2xvYWRtb3JlX2J1dHRvbiIsImN1cnJlbnRfcGFnZSIsImpzX3ByZWZpeF9sb2FkbW9yZV9pbmZpbml0ZV9zY3JvbGwiLCJwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcyIsImFqYXh1cmwiLCJzdWNjZXNzIiwiSlNPTiIsInBhcnNlIiwicG9zdHMiLCJtYXhfcGFnZSIsImJ0biIsImJ0bjIiLCJQYWdlX0FqYXhMb2FkIiwiaGFzQ2xhc3MiLCJuZXh0Iiwic2V0Q29va2llIiwicHJvZHVjdHMiLCJwYXJlbnRzIiwicmVtb3ZlQ2xhc3MiLCJpcyIsImZpbmQiLCJhamF4X3Byb2R1Y3QiLCJhZGRDbGFzcyIsImZhZGVPdXQiLCJyZW1vdmUiLCJhbGxfcHJvZHVjdHMiLCJ3aW5kb3ciLCJza2VsZXRvbl92aWV3IiwiYmVmb3JlU2VuZCIsImhyZWYiLCJjb2xfbm8iLCJncmlkX3NrZWxldG9uX3N0cnVjdHVyZSIsImdldENvb2tpZSIsImdldEl0ZW0iLCJzaWJsaW5ncyIsImluZGV4IiwiY2xvbmUiLCJoaWRlIiwicmVwbGFjZVdpdGgiLCJzaG93IiwicGFydHMiLCJuYW1lIiwiY29va2llIiwic3BsaXQiLCJjb25jYXQiLCJwb3AiLCJzaGlmdCIsImV4cERheXMiLCJjTmFtZSIsImNWYWx1ZSIsInVuZGVmaW5lZCIsImRhdGUiLCJEYXRlIiwic2V0VGltZSIsImdldFRpbWUiLCJleHBpcmVzIiwidG9VVENTdHJpbmciLCJpc1N1YmRvbWFpbiIsImRvbWFpbiIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJSZWdFeHAiLCJtYXRjaCIsInJlZ2V4Il0sIm1hcHBpbmdzIjoiYUEwRVksU0FBQUEsd0JBSUFDLE9BQUFBLEtBQUFBLENBQ0FBLElBQUFBLE9BQWFDLGFBQVFDLE1BQ3hCQyxLQUFBLENBVExDLE9BQUEsaUJBS0lDLEtBQU0sTUFPVkMsUUFBQUEsU0FBdUJDLEdBTGZQLGFBQWFDLFFBQVEsd0JBQXlCTSxFQUFHLEtBQVMsa0JBTTdEQyxhQUFBQSxRQUF3Qix3QkFBQUQsRUFBQSxLQUFBLHFCQVp6QkUsT0F2RUpDLE9BQUFDLFVBQUFDLE1BQUEsV0FHSUosd0JBREVULHdCQUVGQSxFQUFBQSxPQUFBQSxHQUFxQmMsSUFFakIsSUFBR0gsRUFBTSxJQUFJRyxPQUFqQkMsTUFBQSxnQkFDTUMsRUFBT0wsT0FBT0ksR0FBWEQsSUFDTEUsT0FBT0wsR0FBQUEsSUFBQSxXQUVQLElBQUlNLEVBQU1ELEVBQUtFLE1BQU1DLEtBQU1DLFdBQXZCSCxPQURESSxPQUFQRixNQUFnQkcsUUFBWUMsR0FDZFAsR0FEZFEsV0FBQSxXQU9JYixPQUFPLG9CQUFvQmMsR0FBRyxlQUFnQixXQUR2Q2QsT0FBQVEsTUFBWU8sT0FBQSx5REFFZmYsT0FFUEEsT0FKREMsVUFBQWEsR0FBQSxpQkFBQSxXQWJKaEIsd0JBbUJrRCxFQUEzQ0csT0FBVWEsZ0NBQXFCRSxRQUNsQ2xCLDRCQUN1RCxFQUFuREUsT0FBTywrQkFBZ0NnQixRQUN2Q0MscUNBRUFqQiwyQkFBT2tCLGFBQStCRixFQUN0Q0csT0FBQUEsS0FBQUEsQ0FDSHBCLElBQUFxQiwyQkFBQUMsUUFLRzVCLEtBQU0sQ0FIVjJCLE9BQUFBLGdDQUVTQSxLQUFBQSxNQUNDRSxRQUFBLFNBQUF6QixJQUNGQSxFQUFVMEIsS0FBQUMsTUFBQTNCLE1BSE51QiwyQkFBQUssTUFB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Q2ZELEVBQUtFLFFBQVFGLEVBQUtHLFVBQWEsR0FBQVAsRUFBQSxHQUFBLEdBQXlCLEtBQ2xEUSxFQUFVLFdBQWlCSixFQUFDSyxjQUNSQyxjQUF0QkMsRUFBc0MsSUFBTWhDLE9BQU9pQyxTQUFTQyxTQUNoRTVFLFNBQVMwRCxPQUFTTSxFQUFRLElBQU1DLEVBQVMsS0FBT00sRUFBVSxZQUFjRyxFQUU1RSxJQUFJRCxZQUFjLFdBQTBDLElBQWhDM0UsRUFBZ0MsRUFBQVUsVUFBQU8sYUFBQW1ELElBQUExRCxVQUFBLEdBQUFBLFVBQUEsR0FBMUJrQyxPQUFPaUMsU0FBU0MsU0FBOUNILEVBQVcsSUFBR0ksT0FBZEosMkNBQXdELFFBQUEzRSxFQUFBZ0YsTUFBQUMiLCJmaWxlIjoid29vY29tbWVyY2UubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcbiAgICAgICAgY2hhbmdlX3ZpZXdfYnRuX2V2ZW50KCk7XG4gICAgICAgIGxvYWRfcHJvZHVjdF9za2VsZXRvbigpO1xuXG4gICAgICAgIG9yaWcgPSBqUXVlcnkuZm4uY3NzO1xuICAgICAgICB2YXIgZXYgPSBuZXcgalF1ZXJ5LkV2ZW50KCdzdHlsZWNoYW5nZWQnKSxcbiAgICAgICAgICAgIG9yaWcgPSBqUXVlcnkuZm4uY3NzO1xuICAgICAgICBqUXVlcnkuZm4uY3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJldCA9IG9yaWcuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGpRdWVyeSh0aGlzKS50cmlnZ2VyKGV2KTtcbiAgICAgICAgICAgIHJldHVybiByZXQ7IC8vIG11c3QgaW5jbHVkZSB0aGlzXG5cbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGpRdWVyeSgnLndvb2ZfaW5mb19wb3B1cCcpLm9uKCdzdHlsZWNoYW5nZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImNzc19wcmVmaXgtc2hvdy1sb2FkZXItb3ZlcmxheVwiPjwvZGl2PicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfSk7XG4gICAgalF1ZXJ5KGRvY3VtZW50KS5vbihcIndvb2ZfYWpheF9kb25lXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hhbmdlX3ZpZXdfYnRuX2V2ZW50KCk7XG4gICAgICAgIGlmIChqUXVlcnkoJy5jc3NfcHJlZml4X2xvYWRtb3JlX3Byb2R1Y3QnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBqc19wcmVmaXhfbG9hZG1vcmVfYnV0dG9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpRdWVyeSgnLmNzc19wcmVmaXgtaW5maW5pdGUtbG9hZGVyJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAganNfcHJlZml4X2xvYWRtb3JlX2luZmluaXRlX3Njcm9sbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMuY3VycmVudF9wYWdlID0gMTtcbiAgICAgICAgalF1ZXJ5LmFqYXgoe1xuICAgICAgICAgICAgdXJsOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5hamF4dXJsLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICdhY3Rpb24nOiAnZmV0Y2hfd29vZl9maWx0ZXJfYWpheF9xdWVyeScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gSlNPTi5wYXJzZShyZXMpO1xuICAgICAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGhwX3ByZWZpeF9sb2FkbW9yZV9wYXJhbXMucG9zdHMgPSByZXNbJ3F1ZXJ5J107XG4gICAgICAgICAgICAgICAgICAgIHBocF9wcmVmaXhfbG9hZG1vcmVfcGFyYW1zLm1heF9wYWdlID0gcmVzWydtYXhfcGFnZSddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFBhZ2VfQWpheExvYWQoKTtcbiAgICB9KTtcblxuICAgIGpRdWVyeShkb2N1bWVudCkub24oJ3djX2NhcnRfYnV0dG9uX3VwZGF0ZWQnLCBmdW5jdGlvbiAoYnRuLCBidG4yKSB7XG4gICAgICAgIGpRdWVyeShidG4yKVxuICAgICAgICAgICAgLmF0dHIoJ3N0eWxlJywgalF1ZXJ5KCcucHJvZHVjdHMnKS5oYXNDbGFzcygncHJvZHVjdC1saXN0LXN0eWxlJykgPyAnZGlzcGxheTpub25lICFpbXBvcnRhbnQnIDogJycpXG4gICAgICAgICAgICAubmV4dCgnLmFkZGVkX3RvX2NhcnQnKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdjc3NfcHJlZml4LWJ0biBwaHBfcHJlZml4LWFkZC10by1jYXJ0IGJ0bi1ob3ZlciBhamF4X2FkZF90b19jYXJ0IGFkZF90b19jYXJ0X2J1dHRvbiBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGNzc19wcmVmaXgtYm94LXNoYWRvdyBhZGRlZCBhamF4LWVmZmVjdC1saW5rJylcbiAgICAgICAgICAgIC5odG1sKFxuICAgICAgICAgICAgICAgIGA8c3BhbiBjbGFzcz1cImNzc19wcmVmaXgtYnRuLWxpbmUtaG9sZGVyXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjc3NfcHJlZml4LWJ0bi1saW5lLWhpZGRlblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNzc19wcmVmaXgtYnRuLXRleHRcIj5WaWV3IENhcnQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjc3NfcHJlZml4LWJ0bi1saW5lXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tcmlnaHRcIj48L2k+XG5cdCAgICAgICAgICAgIDwvc3Bhbj5gXG4gICAgICAgICAgICApO1xuICAgICAgICBQYWdlX0FqYXhMb2FkKCk7XG4gICAgfSlcbn0oalF1ZXJ5KSk7XG5cblxuZnVuY3Rpb24gbG9hZF9wcm9kdWN0X3NrZWxldG9uKCkge1xuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIFdvY29tbWVyY2UgUHJvZHVjdCBTa2VsZXRvbiBTdHJ1Y3R1cmUgICBcbiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICBqUXVlcnkuYWpheCh7XG4gICAgICAgIHVybDogalF1ZXJ5KCcjYWpheF91cmwnKS52YWwoKSwgLy8gQUpBWCBoYW5kbGVyXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICdhY3Rpb24nOiAnbG9hZF9za2VsZXRvbicsXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvZHVjdF9ncmlkX3NrZWxldG9uJywgcmVzWydkYXRhJ11bJ3NrZWxldG9uLWdyaWQnXSk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvZHVjdF9saXN0X3NrZWxldG9uJywgcmVzWydkYXRhJ11bJ3NrZWxldG9uLWxpc3QnXSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbnZhciBjYW5fbG9hZGVkX3Byb2R1Y3RfdmlldyA9IHRydWU7XG5mdW5jdGlvbiBjaGFuZ2Vfdmlld19idG5fZXZlbnQoKSB7XG4gICAgalF1ZXJ5KCcuY3NzX3ByZWZpeC12aWV3LWdyaWQsLmNzc19wcmVmaXgtbGlzdGluZycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGJ0biA9IGpRdWVyeSh0aGlzKTtcbiAgICAgICAgbGV0IHByb2R1Y3RzID0gYnRuLnBhcmVudHMoJy5zb3J0aW5nLXdyYXBwZXInKS5uZXh0KCcucHJvZHVjdHMnKTtcblxuICAgICAgICBpZiAoYnRuLmhhc0NsYXNzKCdhY3RpdmUnKSB8fCBqUXVlcnkoXCIjd29vZl9odG1sX2J1ZmZlclwiKS5pcygnOnZpc2libGUnKSB8fCAhY2FuX2xvYWRlZF9wcm9kdWN0X3ZpZXcpIC8vIENvbmRpdGlvbiBmb3IgUmVtb3ZlIFNhbWUgQnV0dG9uIENsaWNrIEV2ZW50ICBBbmQgQ2hlY2ggV29vZiBBamF4IGluIG9uIExvYWRcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBzZXRDb29raWUoJ3Byb2R1Y3Rfdmlld1tjb2xfbm9dJywgYnRuLmhhc0NsYXNzKCdjc3NfcHJlZml4LXZpZXctZ3JpZCcpID8gYnRuLmRhdGEoJ2dyaWQnKSA6ICcxJyk7XG5cbiAgICAgICAgc2V0Q29va2llKCdwcm9kdWN0X3ZpZXdbaXNfZ3JpZF0nLCBidG4uaGFzQ2xhc3MoJ2Nzc19wcmVmaXgtdmlldy1ncmlkJykgPyAnMicgOiAnMScpO1xuXG4gICAgICAgIGpRdWVyeSgnLmNzc19wcmVmaXgtcHJvZHVjdC12aWV3LWJ1dHRvbnMgLmJ0bicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgYnRuLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICBpZiAoYnRuLmhhc0NsYXNzKCdjc3NfcHJlZml4LWxpc3RpbmcnKSkgeyAvLy8vQ29uZGl0aW9uIGZvciBjaGVjayBzd2l0Y2ggdG8gbGlzdCB0byBncmlkXG4gICAgICAgICAgICBwcm9kdWN0cy5maW5kKCcucHJvZHVjdCcpLmZhZGVPdXQoMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5yZW1vdmUoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBidG4ucGFyZW50cygnLnByb2R1Y3QtZ3JpZC1zdHlsZScpLnJlbW92ZUNsYXNzKCdwcm9kdWN0LWdyaWQtc3R5bGUnKS5hZGRDbGFzcygncHJvZHVjdC1saXN0LXN0eWxlJylcbiAgICAgICAgICAgIGFqYXhfcHJvZHVjdChwcm9kdWN0cywgJ3Byb2R1Y3RfbGlzdF9za2VsZXRvbicpOyAvLyBDYWxsIEFqYXggRnVuY3Rpb24gZm9yICBnZXQgYW5kIEFwcGVuZCBkYXRhXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYnRuLnBhcmVudHMoJy5wcm9kdWN0LWdyaWQtc3R5bGUnKS5sZW5ndGggIT0gMSkgeyAvL0NvbmRpdGlvbiBmb3IgY2hlY2sgc3dpdGNoIHRvIGxpc3QgdG8gZ3JpZFxuICAgICAgICAgICAgICAgIHByb2R1Y3RzLmZpbmQoJy5wcm9kdWN0JykuZmFkZU91dCgwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5yZW1vdmUoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJ0bi5wYXJlbnRzKCcucHJvZHVjdC1saXN0LXN0eWxlJykucmVtb3ZlQ2xhc3MoJ3Byb2R1Y3QtbGlzdC1zdHlsZScpLmFkZENsYXNzKCdwcm9kdWN0LWdyaWQtc3R5bGUnKVxuICAgICAgICAgICAgICAgIGFqYXhfcHJvZHVjdChwcm9kdWN0cywgJ3Byb2R1Y3RfZ3JpZF9za2VsZXRvbicpOyAvLyBDYWxsIEFqYXggRnVuY3Rpb24gZm9yICBnZXQgYW5kIEFwcGVuZCBkYXRhXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYnRuLmRhdGEoJ2dyaWQnKSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHByb2R1Y3RzLnJlbW92ZUNsYXNzKCdjb2x1bW5zLTIgY29sdW1ucy0zIGNvbHVtbnMtNCcpLmFkZENsYXNzKCdjb2x1bW5zLScgKyBidG4uZGF0YSgnZ3JpZCcpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdHMucmVtb3ZlQ2xhc3MoJyBjb2x1bW5zLTIgY29sdW1ucy0zIGNvbHVtbnMtNCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvZHVjdHMuYWRkQ2xhc3MoJ2FuaW1hdGVkLXByb2R1Y3QnKTtcblxuICAgICAgICB9LCAxMDApO1xuICAgICAgICBwcm9kdWN0cy5yZW1vdmVDbGFzcygnYW5pbWF0ZWQtcHJvZHVjdCcpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gYWpheF9wcm9kdWN0KGFsbF9wcm9kdWN0cywgc2tlbGV0b25fdmlldykge1xuICAgIGpRdWVyeS5hamF4KHtcbiAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgbG9hZGVkX3BhZ2VkOiBwaHBfcHJlZml4X2xvYWRtb3JlX3BhcmFtcy5jdXJyZW50X3BhZ2VcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoeGhyKSB7XG4gICAgICAgICAgICBpZiAoc2tlbGV0b25fdmlldyA9PSAncHJvZHVjdF9ncmlkX3NrZWxldG9uJykge1xuICAgICAgICAgICAgICAgIGxldCBjb2xfbm8gPSBnZXRDb29raWUoJ3Byb2R1Y3Rfdmlld1tjb2xfbm9dJyk7XG4gICAgICAgICAgICAgICAgdmFyIGdyaWRfc2tlbGV0b25fc3RydWN0dXJlID0galF1ZXJ5KGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNrZWxldG9uX3ZpZXcpKS5zaWJsaW5ncygnLmNvbHVtbi0nICsgY29sX25vKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY29sX25vOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbF9wcm9kdWN0cy5hcHBlbmQoZ3JpZF9za2VsZXRvbl9zdHJ1Y3R1cmUuY2xvbmUoKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFsbF9wcm9kdWN0cy5hcHBlbmQoalF1ZXJ5KGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNrZWxldG9uX3ZpZXcpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqUXVlcnkoJy53b29jb21tZXJjZS1wYWdpbmF0aW9uICwuY3NzX3ByZWZpeC1pbmZpbml0ZS1sb2FkZXIgLC5jc3NfcHJlZml4X2xvYWRtb3JlX3Byb2R1Y3QnKS5oaWRlKDApO1xuICAgICAgICAgICAgY2FuX2xvYWRlZF9wcm9kdWN0X3ZpZXcgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgIHJlcyA9IGpRdWVyeShyZXMpO1xuICAgICAgICAgICAgICAgIGpRdWVyeSgnLnByb2R1Y3RzJykucmVwbGFjZVdpdGgocmVzLmZpbmQoJy5wcm9kdWN0cycpKTtcbiAgICAgICAgICAgICAgICBjYW5fbG9hZGVkX3Byb2R1Y3RfdmlldyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYWxsX3Byb2R1Y3RzLmZpbmQoJy5za2VsZXRvbi1tYWluJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgY2hhbmdlX3ZpZXdfYnRuX2V2ZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKGpRdWVyeSgnLmNzc19wcmVmaXhfbG9hZG1vcmVfcHJvZHVjdCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAganNfcHJlZml4X2xvYWRtb3JlX2J1dHRvbigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChqUXVlcnkoJy5jc3NfcHJlZml4LWluZmluaXRlLWxvYWRlcicpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAganNfcHJlZml4X2xvYWRtb3JlX2luZmluaXRlX3Njcm9sbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBqUXVlcnkoJy53b29jb21tZXJjZS1wYWdpbmF0aW9uICwuY3NzX3ByZWZpeC1pbmZpbml0ZS1sb2FkZXIgLC5jc3NfcHJlZml4X2xvYWRtb3JlX3Byb2R1Y3QnKS5zaG93KDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xuICAgIGNvbnN0IHZhbHVlID0gYDsgJHtkb2N1bWVudC5jb29raWV9YDtcbiAgICBjb25zdCBwYXJ0cyA9IHZhbHVlLnNwbGl0KGA7ICR7bmFtZX09YCk7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgcmV0dXJuIHBhcnRzLnBvcCgpLnNwbGl0KCc7Jykuc2hpZnQoKTtcbn1cbmZ1bmN0aW9uIHNldENvb2tpZShjTmFtZSwgY1ZhbHVlLCBleHBEYXlzID0gMSkge1xuICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAoZXhwRGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcbiAgICBjb25zdCBleHBpcmVzID0gXCJleHBpcmVzPVwiICsgZGF0ZS50b1VUQ1N0cmluZygpO1xuICAgIGxldCBkb21haW4gPSBcImRvbWFpbj1cIiArICFpc1N1YmRvbWFpbigpID8gXCIuXCIgKyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgOiBcIlwiICsgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICsgXCI7XCI7XG4gICAgZG9jdW1lbnQuY29va2llID0gY05hbWUgKyBcIj1cIiArIGNWYWx1ZSArIFwiOyBcIiArIGV4cGlyZXMgKyBcIjsgUGF0aD0vO1wiICsgZG9tYWluO1xufVxudmFyIGlzU3ViZG9tYWluID0gZnVuY3Rpb24gKHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSkge1xuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoL14oW2Etel0rXFw6XFwvezJ9KT8oW1xcdy1dK1xcLltcXHctXStcXC5cXHcrKSQvKTtcbiAgICByZXR1cm4gISF1cmwubWF0Y2gocmVnZXgpOyAvLyBtYWtlIHN1cmUgaXQgcmV0dXJucyBib29sZWFuXG59Il19